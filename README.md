# Novasat Calculator Mini App

Telegram Mini App –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
novasat-calculator/
‚îú‚îÄ‚îÄ client/          # React + Vite frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx      # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.css    # –°—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ server/          # Node.js backend
‚îÇ   ‚îî‚îÄ‚îÄ server.js    # API —Å–µ—Ä–≤–µ—Ä
‚îî‚îÄ‚îÄ README.md
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–∏–µ–Ω—Ç
cd novasat-calculator/client
npm install

# –°–µ—Ä–≤–µ—Ä
cd ../server
npm install
```

### 2. –ó–∞–ø—É—Å–∫

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –°–µ—Ä–≤–µ—Ä
cd server
npm start

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ö–ª–∏–µ–Ω—Ç (dev)
cd client
npm run dev
```

### 3. –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
cd client
npm run build
```

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel (Frontend) + Railway (Backend)

1. **Frontend** (Vercel):
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - Build command: `cd client && npm install && npm run build`
   - Output directory: `client/dist`
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç HTTPS —Å—Å—ã–ª–∫—É

2. **Backend** (Railway/Heroku):
   - –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –ø–∞–ø–∫—É `server`
   - –ü–æ–ª—É—á–∏—Ç—å API URL

3. **Telegram**:
   - –û—Ç–∫—Ä—ã—Ç—å @BotFather
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
   - `/newapp` ‚Üí –≤—ã–±—Ä–∞—Ç—å –±–æ—Ç–∞ ‚Üí –≤—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º "Web App"
   - –í—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ Vercel

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (Node.js)

```bash
cd server
npm install
npm start
```

–°–µ—Ä–≤–µ—Ä —Ä–∞–∑–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏–∫—É –∏–∑ `../client/dist`:
- `GET /` ‚Üí index.html
- `POST /api/orders` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
- `GET /api/orders` ‚Üí —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üìπ –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∫–∞–º–µ—Ä (–≤–Ω—É—Ç—Ä–∏, —É–ª–∏—á–Ω—ã–µ, WiFi, PTZ)
- üìÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (3-30 –¥–Ω–µ–π)
- ‚òÅÔ∏è –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- üé§ –ó–∞–ø–∏—Å—å –∑–≤—É–∫–∞
- üìç –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏
- üí¨ Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
PORT=3002              # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
TELEGRAM_BOT_TOKEN=    # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## –ü—Ä–∏–º–µ—Ä API –≤—ã–∑–æ–≤–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
curl -X POST http://localhost:3002/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "cameras": {"indoor": 2, "outdoor": 2, "wifi": 0, "ptz": 0},
    "storage": 7,
    "options": {"mic": true, "nightVision": true, "motion": true, "cloud": true},
    "name": "–ò–≤–∞–Ω",
    "phone": "+79990000000",
    "address": "–≥. –î–µ—Ä–±–µ–Ω—Ç",
    "total": 45000
  }'
```

## –¶–µ–Ω—ã (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ App.jsx)

```javascript
const PRICES = {
  indoor: 2500,      // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–∞–º–µ—Ä–∞
  outdoor: 4200,     // –£–ª–∏—á–Ω–∞—è –∫–∞–º–µ—Ä–∞
  wifi: 3800,        // WiFi –∫–∞–º–µ—Ä–∞
  ptz: 8500,         // PTZ –∫–∞–º–µ—Ä–∞
  recorder: 12000,    // –í–∏–¥–µ–æ—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä
  installation: 1500, // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ –∫–∞–º–µ—Ä—É
  cable: 150,        // –ö–∞–±–µ–ª—å –∑–∞ –º–µ—Ç—Ä
  cloud_month: 350    // –û–±–ª–∞–∫–æ –∑–∞ –º–µ—Å—è—Ü
};
```

## –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ –¥–ª—è Novasat.ru ‚Äî –º–∞–≥–∞–∑–∏–Ω —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–ª–µ–≤–∏–¥–µ–Ω–∏—è
